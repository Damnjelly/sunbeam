name: tldr
title: TLDR Pages
version: "1.0"
rootItems:
  - title: "Search MacOS Pages"
    script: list
    with:
      platform: osx
  - title: "Search Linux Pages"
    script: list
    with:
      platform: linux
scripts:
  list:
    mode: filter
    showPreview: true
    params:
      - name: platform
        type: textfield
        title: Platform
    command: |
      tldr --list --platform ${{ platform }} | sunbeam query -R '{
        id: .,
        title: .,
        previewCmd: "tldr --raw --platform  ${{ platform }} \(.)",
        actions: [
          {type: "open-url", target: "https://tldr.ostera.io/\(.)", title: "Open in Browser"}
        ]
      }'
