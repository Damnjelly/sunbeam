name: git-log
title: Git Log
version: "1.0"
requirements:
  - git
  - jc

rootItems:
  - script: git-log
    title: Git Log
scripts:
  git-log:
    command: |
      jc git log | sunbeam query '.[] |
        {
          title: .message,
          subtitle: .commit,
          actions: [
            { type: "copy-text", title: "Copy SHA", text: .commit },
            { type: "copy-text", title: "Copy Message", text: .message }
          ]
        }
      '
    onSuccess: push-page
    cwd: currentDir
    page:
      type: list
      mode: filter
