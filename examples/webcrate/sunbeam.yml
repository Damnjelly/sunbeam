title: WebCrate
version: "1.0"
requirements:
  - which: bash
  - which: curl
preferences:
  - name: host
    type: string
    env: WEBCRATE_URL
    input:
      type: textfield
      title: Host
      placeholder: "WebCrate Url"
  - name: key
    type: string
    env: WEBCRATE_API_KEY
    input:
      type: password
      title: API Token
      placeholder: "WebCrate API token"
rootItems:
  - command: list-links
    title: List Links
  - command: new-link
    title: Add Link
commands:
  - name: list-links
    exec: bash list-links.sh
    onSuccess: push-page
  - name: new-link
    exec: bash new-link.sh {{ param "url" }}
    params:
      - name: url
        type: string
        input:
          type: textfield
          title: URL
          placeholder: "URL to add"
