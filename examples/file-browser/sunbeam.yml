version: "1.0"
title: File Browser
requirements:
  - which: python3
    homePage: https://www.python.org
rootItems:
  - title: Browse Root Directory
    command: browse-files
    with:
      root: /
  - title: Browse Home Directory
    command: browse-files
    with:
      root: "~"
  - title: Browse Custom Directory
    command: browse-files
    with:
      root:
        type: textfield
        title: Root Directory
  - title: Browse Current Directory
    command: browse-files
    with:
      root: "."
preferences:
  - name: show-hidden
    type: boolean
    input:
      type: checkbox
      title: Visibility
      label: Show Hidden Files
commands:
  - name: browse-files
    exec: ./file-browser.py --root {{ param "root" }} {{ if pref "show-hidden" }}--show-hidden{{ end }}
    onSuccess: push-page
    params:
      - name: root
        type: string
  - name: edit-file
    exec: ls -l
    params:
      - name: file
        type: file
