version: "1.0"
title: Bitwarden
requirements:
  - homePage: https://bitwarden.com/help/cli/
    which: bw
rootItems:
  - title: Search Passwords
    command: list-passwords
commands:
  - name: list-passwords
    exec: ./bitwarden.sh
    onSuccess: push-page
  - name: lock-vault
    exec: |
      bw lock
      sunbeam kv delete session
  - name: unlock-vault
    exec: ./unlock.sh ${{ password }}
    params:
      - name: password
        type: string
